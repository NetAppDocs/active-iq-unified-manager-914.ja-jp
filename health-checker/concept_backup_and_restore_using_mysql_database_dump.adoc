---
permalink: health-checker/concept_backup_and_restore_using_mysql_database_dump.html 
sidebar: sidebar 
keywords: backup, restore, using, mysql, database, dump, snapshot copy, copies 
summary: MySQLデータベースのダンプバックアップは、Active IQ Unified Managerデータベースと構成ファイルのコピーです。システム障害やデータ損失が発生した場合に使用できます。バックアップはローカルにもリモートにも保存できますが、Active IQ Unified Managerホストシステムとは別のリモートの場所を定義することを強く推奨します。 
---
= MySQLデータベースダンプを使用したバックアップとリストア
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
MySQLデータベースのダンプバックアップは、Active IQ Unified Managerデータベースと構成ファイルのコピーです。システム障害やデータ損失が発生した場合に使用できます。バックアップはローカルにもリモートにも保存できますが、Active IQ Unified Managerホストシステムとは別のリモートの場所を定義することを強く推奨します。

[NOTE]
====
MySQLデータベースダンプは、Unified ManagerがLinuxサーバおよびWindowsサーバにインストールされている場合のデフォルトのバックアップメカニズムです。ただし、Unified Managerで多数のクラスタとノードを管理している場合や、MySQLのバックアップに数時間かかっている場合は、Snapshotコピーを使用してバックアップを実行できます。この機能は、Red Hat Enterprise Linux、CentOS Linuxシステム、およびWindowsで使用できます。

====
データベースダンプバックアップは、バックアップディレクトリ内の1つのファイルと、データベースリポジトリディレクトリ内の1つ以上のファイルで構成されます。バックアップディレクトリ内のファイルは非常に小さく、バックアップの再作成に必要なデータベースリポジトリディレクトリ内のファイルへのポインタだけが含まれています。

データベースバックアップの初回生成時には、バックアップディレクトリに1つのファイルが作成され、データベースリポジトリディレクトリにフルバックアップファイルが作成されます。次回バックアップを生成すると、バックアップディレクトリに1つのファイルが作成され、フルバックアップファイルとの差分を含む増分バックアップファイルがデータベースリポジトリディレクトリに作成されます。追加のバックアップを作成すると、次の図に示すように、最大保持設定までこのプロセスが繰り返されます。

image::../media/database_backup.gif[データベースのバックアップ]

[NOTE]
====
この2つのディレクトリ内のバックアップファイルの名前を変更したり、削除したりしないでください。削除すると、以降のリストア処理が失敗します。

====
バックアップファイルをローカルシステムに書き込む場合は、完全な復元を必要とするシステムの問題が発生した場合に使用できるように、バックアップファイルをリモートの場所にコピーするプロセスを開始する必要があります。

バックアップ処理を開始する前に、Active IQ Unified Managerは整合性チェックを実行して、必要なすべてのバックアップファイルとバックアップディレクトリが存在し、書き込み可能であることを確認します。また、バックアップファイルを作成するのに十分なスペースがシステムにあることも確認します。
