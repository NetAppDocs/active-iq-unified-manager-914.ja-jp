---
permalink: data-protection/task_identify_problem_for_failed_protection_job.html 
sidebar: sidebar 
keywords: identify, problem, perform, corrective actions, failed, protection job 
summary: '[イベントの詳細]ページの[原因]フィールドでジョブの失敗に関するエラーメッセージを確認し、ジョブが失敗した原因がSnapshotコピーエラーであることを確認します。その後、[ボリューム/健全性の詳細]ページに移動して詳細情報を収集します。' 
---
= 保護ジョブが失敗した場合の問題の特定と対処策の実施
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
[イベントの詳細]ページの[原因]フィールドでジョブの失敗に関するエラーメッセージを確認し、ジョブが失敗した原因がSnapshotコピーエラーであることを確認します。その後、[ボリューム/健全性の詳細]ページに移動して詳細情報を収集します。

* 必要なもの *

アプリケーション管理者のロールが必要です。

[Event details]ページの[Cause]フィールドに表示されるエラーメッセージには、失敗したジョブに関する次のテキストが含まれています。

[listing]
----
Protection Job Failed. Reason: (Transfer operation for
relationship 'cluster2_src_svm:cluster2_src_vol2->cluster3_dst_svm:
managed_svc2_vol3' ended unsuccessfully. Last error reported by
Data ONTAP: Failed to create Snapshot copy 0426cluster2_src_vol2snap
on volume cluster2_src_svm:cluster2_src_vol2. (CSM: An operation
failed due to an ONC RPC failure.)
Job Details
----
このメッセージには、次の情報が表示されます。

* バックアップジョブまたはミラージョブが正常に完了しませんでした。
+
このジョブには、仮想サーバ上の `cluster2_src_svm`ソースボリュームと、という名前の仮想サーバ上の `cluster3_dst_svm`デスティネーションボリュームの `managed_svc2_vol3`間の保護関係が関係してい `cluster2_src_vol2`ました。

* ソースボリューム上の `cluster2_src_svm:/cluster2_src_vol2`に対するSnapshotコピージョブが失敗しまし `0426cluster2_src_vol2snap`た。


このシナリオでは、ジョブの失敗の原因と考えられる対処方法を特定できます。ただし、失敗を解決するには、 System Manager Web UI または ONTAP CLI コマンドを使用する必要があります。

.手順
. エラーメッセージを確認し、ソースボリュームでSnapshotコピージョブが失敗したことを確認します。これは、ソースボリュームに問題がある可能性があることを示しています。
+
必要に応じて、エラーメッセージの最後にある * Job Details * リンクをクリックしてもかまいませんが、このシナリオでは、そのような操作を行わないように選択します。

. イベントを解決するために、次の作業を行います。
+
.. [* Assign to * （ * への割り当て） ] ボタンをクリックし、メニューから [* Me* （ * Me * ） ] を選択します
.. [* Acknowledge * （確認） ] ボタンをクリックして、イベントにアラートが設定されている場合は、繰り返しアラート通知を受信しないようにします。
.. 必要に応じて、イベントに関するメモを追加することもできます。


. [Summary] * ペインで [Source] * フィールドをクリックして、ソース・ボリュームの詳細を表示します。
+
「 * Source * 」フィールドには、ソースオブジェクトの名前が表示されます。この場合は、 Snapshot コピージョブがスケジュールされたボリュームが表示されます。

+
の[ボリューム/健全性の詳細]ページが表示さ `cluster2_src_vol2`れ、[保護]タブの内容が示されます。

. 保護トポロジグラフを見ると、トポロジの最初のボリューム（SnapMirror関係のソースボリューム）にエラーアイコンが関連付けられています。
+
ソースボリュームアイコンには、そのボリュームに設定された警告およびエラーのしきい値を示す水平バーも表示されます。

+
image::../media/um_topology_cascade_job_failure.gif[ジョブ障害カスケードトポロジ]

. エラーアイコンにカーソルを合わせると、ポップアップダイアログボックスが表示され、しきい値の設定が表示され、ボリュームがエラーしきい値を超えて容量の問題が発生していることがわかります。
. [ 容量 * ] タブをクリックします。
+
ボリュームの容量情報 `cluster2_src_vol2`が表示されます。

. 容量 * パネルの棒グラフに、ボリュームの容量がボリュームに設定されたしきい値のレベルを超えたことを示すエラーアイコンが再び表示されます。
. 容量グラフの下には、ボリュームの自動拡張が無効になっており、ボリュームのスペースギャランティが設定されていることが示されています。
+
自動拡張を有効にすることもできますが、このシナリオの目的上、さらに調査を進めてから、容量の問題を解決する方法を決定することにします。

. 下にスクロールして「 * Events 」リストを表示し、「 Protection Job Failed 」、「 Volume Days Until Full 」、「 Volume Space Full 」の各イベントが生成されたことを確認します。
. イベントのリストで、「 * ボリュームスペースがフル * 」イベントをクリックして詳細を確認します。このイベントは容量問題に最も関連しているように見えます。
+
[イベントの詳細]ページに、ソースボリュームの[ボリュームスペースがフル]イベントが表示されます。

. [サマリ]*領域で、イベントの[原因]フィールドを確認します `The full threshold set at 90% is breached. 45.38 MB (95.54%) of 47.50 MB is used`。
. サマリ領域の下に推奨される対処方法が表示されます。
+
[TIP]
====
[推奨される対処方法]は一部のイベントに対してのみ表示されるため、すべてのタイプのイベントでこの領域が表示されるわけではありません。

====
+
「ボリュームスペースがフル」イベントを解決するために実行する推奨される対処方法のリストをクリックして確認します。

+
** このボリュームで自動拡張を有効にします。
** ボリュームのサイズを変更する。
** このボリュームで重複排除を有効にして実行する。
** このボリュームで圧縮を有効にして実行する。


. ボリュームの自動拡張を有効にすることにしましたが、そのためには、親アグリゲートの使用可能な空きスペースとボリュームの現在の増加率を確認する必要があります。
+
.. [関連デバイス]ペインで、親アグリゲートを確認し `cluster2_src_aggr1`ます。
+
[TIP]
====
アグリゲートの名前をクリックすると、アグリゲートに関する詳細を確認できます。

====
+
ボリュームに自動拡張を有効にするための十分なスペースがあることを確認します。

.. ページの上部で、重大なインシデントを示すアイコンを確認し、アイコンの下のテキストを確認します。
+
「フルまでの日数： 1 日未満 | 日次増加率： 5.4% 」と指定します。



. System Managerにアクセスするか、ONTAP CLIにアクセスしてオプションを有効にして `volume autogrow`ください。
+
[TIP]
====
ボリュームとアグリゲートの名前をメモしておいて、自動拡張を有効にするときに参照できるようにします。

====
. 容量問題を解決したら、 Unified Manager のイベント * 詳細ページに戻り、イベントを解決済みとマークします。

