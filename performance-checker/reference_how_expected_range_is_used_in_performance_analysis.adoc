---
permalink: performance-checker/reference_how_expected_range_is_used_in_performance_analysis.html 
sidebar: sidebar 
keywords: latency, forecast, performance, analysis 
summary: Unified Managerでは、レイテンシ予測を使用して監視対象のワークロードの典型的なI/Oレイテンシ（応答時間）アクティビティを表します。ワークロードの実際のレイテンシがレイテンシ予測の上限を超えるとアラートが生成されて動的なパフォーマンスイベントがトリガーされるため、パフォーマンスの問題を分析して解決することができます。 
---
= レイテンシ予測とパフォーマンス分析
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Unified Managerでは、レイテンシ予測を使用して監視対象のワークロードの典型的なI/Oレイテンシ（応答時間）アクティビティを表します。ワークロードの実際のレイテンシがレイテンシ予測の上限を超えるとアラートが生成されて動的なパフォーマンスイベントがトリガーされるため、パフォーマンスの問題を分析して解決することができます。

レイテンシ予測は、ワークロードのパフォーマンスベースラインを設定します。Unified Manager は過去のパフォーマンス測定値から学習して、ワークロードの想定されるパフォーマンスとアクティビティレベルを予測します。想定範囲の上限が動的なパフォーマンスしきい値となります。Unified Managerでは、このベースラインを使用して、実際のレイテンシがしきい値を上回る、下回る、または想定範囲外になったかを判断します。実際の値と想定値を比較することで、ワークロードのパフォーマンスプロファイルが作成されます。

あるワークロードの実際のレイテンシがクラスタコンポーネントの競合が原因で動的なパフォーマンスしきい値を超えると、レイテンシが高くなり、ワークロードのパフォーマンスは想定よりも遅くなります。同じクラスタコンポーネントを共有する他のワークロードのパフォーマンスも、想定より遅くなる可能性があります。

Unified Manager は、しきい値を超えるイベントを分析して、そのアクティビティがパフォーマンスイベントに該当するかどうかを判断します。高ワークロードのアクティビティが長期間（たとえば数時間）にわたって継続した場合、Unified Managerはこれを正常なアクティビティとみなし、レイテンシ予測を動的に調整して新しい動的なパフォーマンスしきい値を作成します。

ワークロードによっては、レイテンシ予測が時間が経過しても大きく変化することがない、アクティビティが一貫して低いワークロードもあります。パフォーマンスイベントの分析中にイベントの数を最小限に抑えるために、Unified Managerは、アクティビティの少ないボリュームの処理数とレイテンシが想定よりもはるかに高いイベントのみをトリガーします。

image::../media/opm_expected_range_jpg.png[Unified Manager でのレイテンシの想定範囲]

この例のボリュームのレイテンシ予測（グレーで表示）は、処理あたり3.5ミリ秒（ms/op）が最低で5.5ms/opです。ネットワークトラフィックの一時的な急増やクラスタコンポーネントの競合が原因で実際のレイテンシ（青）が突然10ms/opまで上昇した場合、レイテンシ予測を上回り、動的なパフォーマンスしきい値を超えます。

ネットワークトラフィックが減少するか、クラスタコンポーネントの競合が解消されると、レイテンシはレイテンシ予測の範囲内に戻ります。レイテンシが長期間にわたって10ms/op以上のままである場合は、イベントを解決するための対処が必要になることがあります。
